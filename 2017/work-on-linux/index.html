<!DOCTYPE html>
<html>
<!DOCTYPE html>
<head>
  
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>
    Work on Linux |  潮与雪 - Rapiz
  </title>
  
<link rel="stylesheet" href="/css/style.css">
 
<script src="/js/utils.js"></script>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index,follow" />
  <meta name="author" content="Rapiz" />
  
  <meta name="keywords" content="潮与雪,Rapiz,Rapiz,OI,ACM,HUST,乔羽佳,博客,Blog,算法,开源软件,题解,Linux,Development" />
  <meta name="description" content="潮与雪,Rapiz,凡人难以承受生活全部的真相，于是他们各执一端。,Rapiz,Work on Linux,Switching to Arch Linux from Windows 10" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <script src="https://cdn.jsdelivr.net/npm/mermaid@8.5.1/dist/mermaid.min.js"></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({ theme: "neutral" });
    }
  </script>
  
<meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="潮与雪" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="潮与雪" type="application/rss+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/components/prism-core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"></script>
<div id = "wrap">
    <header id="header">
  <div id="nav">
    <div id="nav-items">
      
      <div class="underline-trans">
        <a href="/">Home</a>
      </div>
      
      <div class="underline-trans">
        <a href="/links">Links</a>
      </div>
      
      <div class="underline-trans">
        <a href="/portal">About</a>
      </div>
      
    </div>
  </div>
</header>

	<main class = 'main' onchange="FanfouFix();">
		<article class="post markdown-body">
  <div class="post-title">
    <h1 class="title">Work on Linux</h1>
  </div>
   <div class="post-meta">
         
    <blockquote>Switching to Arch Linux from Windows 10</blockquote>
    
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation"><span class="toc-text">Installation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hardware"><span class="toc-text">Hardware</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Graphics-Cards"><span class="toc-text">Graphics Cards</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Finger-Prints"><span class="toc-text">Finger Prints</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Power-Saving"><span class="toc-text">Power Saving</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hibernate"><span class="toc-text">Hibernate</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Desktop-Environment"><span class="toc-text">Desktop Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hi-DPI-Support"><span class="toc-text">Hi-DPI Support</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Proxy"><span class="toc-text">Proxy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Socks-Clients"><span class="toc-text">Socks Clients</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CLI-Tools"><span class="toc-text">CLI Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Environment-Variables"><span class="toc-text">Environment Variables</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Development-Environment"><span class="toc-text">Development Environment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim"><span class="toc-text">Vim</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#makeprg"><span class="toc-text">makeprg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#make"><span class="toc-text">make</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Keybindings"><span class="toc-text">Keybindings</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GDB"><span class="toc-text">GDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Atom"><span class="toc-text">Atom</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nvm"><span class="toc-text">nvm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#npm-cnpm"><span class="toc-text">npm&#x2F;cnpm</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zsh"><span class="toc-text">zsh</span></a></li></ol>
    <span class="post-author">By Rapiz</span>
    <span class="post-time">2017-01-10</span>
    <span class="post-tags">
      <a class="article-tag-none-link" href="/tags/Linux/" rel="tag">Linux</a>
      
    </span>
</div>
  <div class="post-content">
    </p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>I chose Arch Linux as my distribution, whose packages are rather new. I recommend it to all oiers with Linux experience.</p>
<p>To install Arch Linux, just follow <a href="wiki.archlinux.org">Arch Linux Wiki</a>. You can setup a virtual machine on Windows to emulate installing. It can be hard to install Arch Linux for one’s first time.</p>
<p>There are some tips for installation.</p>
<ol>
<li>If you’re with a UEFI motherboard, pick up rEFInd as your boot-loader, which comes with fancy interface and better UEFI support.</li>
<li>Keep the flash stick with arch ISO. You may need it for a re-installation.</li>
</ol>
<h2 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h2><h3 id="Graphics-Cards"><a href="#Graphics-Cards" class="headerlink" title="Graphics Cards"></a>Graphics Cards</h3><p>There is only a Intel graphics card with my laptop, which means that I don’t have to configure about graphics card. As far as I know, the experience of dual graphics cards on Linux may be not satisfying. Hope you had a determined mind not to play games when you bought your laptop. T460s works fine with me. :-)</p>
<h3 id="Finger-Prints"><a href="#Finger-Prints" class="headerlink" title="Finger Prints"></a>Finger Prints</h3><p>It’s a pity that the latest machines of Lenovo have finger prints sensor which are not supported by Linux now. Some people on Lenovo forums are looking for official help, expecting Lenovo can contact Synaptic for better Linux support. However, there is no deadline now.</p>
<h3 id="Power-Saving"><a href="#Power-Saving" class="headerlink" title="Power Saving"></a>Power Saving</h3><p>I simply installed acpi and tlp. TLP comes with a loads of power saving configurations. I don’t think battery life is shorter than Windows. In fact, because there is less background programs running than windows, the battery stands longer</p>
<h3 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h3><p>The most amazing feature of Windows 10 is hybrid sleep, which helps the laptop suspend and restore very quickly with low power consuming.<br>On Linux, there is two kind of sleep. One is called Suspend that stores working status in the ram and cut off the power of units except the ram. Another is called hibernate, which stores status in swap space partition of disks. The speed of the restoring depends on I/O. Usually speaking Suspend is faster than Hibernate. But nowadays, most new laptop are with SSD, which decreases the difference. I think hibernate will just meet the needs. When you’re seeking for a better management, there is a solution that makes Linux get the same hybrid sleep like Windows and requires a little configuration. Do some searching on Internet.</p>
<h2 id="Desktop-Environment"><a href="#Desktop-Environment" class="headerlink" title="Desktop Environment"></a>Desktop Environment</h2><p>I’m with KDE!<br>GNOME screws up with Hi-DPI supports.</p>
<h3 id="Hi-DPI-Support"><a href="#Hi-DPI-Support" class="headerlink" title="Hi-DPI Support"></a>Hi-DPI Support</h3><p>See also Arch Linux Wiki Hi-DPI</p>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><h3 id="Socks-Clients"><a href="#Socks-Clients" class="headerlink" title="Socks Clients"></a>Socks Clients</h3><p>One of the most famous tools are in python. You know what I’m talking about.</p>
<h3 id="CLI-Tools"><a href="#CLI-Tools" class="headerlink" title="CLI Tools"></a>CLI Tools</h3><p>Sometimes you need to forwarding all network requests of certain application. Proxychains can do that.</p>
<ul>
<li>install proxychains</li>
<li>configure proxy address and ports in /etc</li>
<li>start socks clients</li>
<li>exec ‘proxychains some commands with some options’</li>
</ul>
<p>Making an alias for proxychains can be convenient to use it.</p>
<h3 id="Environment-Variables"><a href="#Environment-Variables" class="headerlink" title="Environment Variables"></a>Environment Variables</h3><p>Some tools respect environment variables about proxy.<br>exec <code>man wget</code> or <code>man curl</code> for details.</p>
<h2 id="Development-Environment"><a href="#Development-Environment" class="headerlink" title="Development Environment"></a>Development Environment</h2><h3 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h3><p>Install package <code>gvim</code>.</p>
<h4 id="makeprg"><a href="#makeprg" class="headerlink" title="makeprg"></a><code>makeprg</code></h4><p><code>:makeprg</code> defines the compiling commands.</p>
<h4 id="make"><a href="#make" class="headerlink" title="make"></a><code>make</code></h4><p><code>:make</code> can compile the program and bring up a error panel if compilation fails.</p>
<h4 id="Keybindings"><a href="#Keybindings" class="headerlink" title="Keybindings"></a>Keybindings</h4><p>It will be convenient if pressing F12 to compile, F11 to compile and run.</p>
<p>Here is my <code>.vimrc</code> without keybinding:</p>
<pre><code>set number &quot;line number
set hls &quot;search highlight
set go= &quot;config gui
set autoread &quot;auto read whenever the file is modified
set tabstop=2 &quot;tab size
set makeprg=g++\ %\ -o\ %:r\ -Wall
colo molokai &quot;set color schelme
sy on &quot;synatx highlight
</code></pre><h3 id="GDB"><a href="#GDB" class="headerlink" title="GDB"></a>GDB</h3><p>Append <code>set max-value-size unlimited</code> to <code>~/.gdbinit</code> so as to display large arrary.</p>
<h3 id="Atom"><a href="#Atom" class="headerlink" title="Atom"></a>Atom</h3><p>Atom is a modern editor with lots of plugins.</p>
<h4 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h4><p>Atom depends on nodejs and npm.<br>However, <code>sudo npm</code> may make a mess.<br><code>nvm</code> is such a shell function that it helps with nodejs version management and <code>sudo</code> issues.<br>You can find nvm on GitHub.</p>
<h4 id="npm-cnpm"><a href="#npm-cnpm" class="headerlink" title="npm/cnpm"></a>npm/cnpm</h4><p>For some reason THEY block nodejs.org, so cnpm is a good choice for those in China. Taobao maintains a mirror of nodejs.org.</p>
<h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><p>The shell of arch ISO is impressive, which has correcting, completion, and color prompt.It’s zsh.<br>Zsh is kind of complex. The oh-my-zsh project decrease the complexity.<br>Install them and have fun with zsh!</p>
<p>By the way, the default prompt theme of arch ISO is <code>gianu</code>, which can be found in oh-my-zsh.</p>
  </div>
</article>

<div class='page-nav'>

  <div class='underline-trans'>
  <a href="/2017/oi-vim/">◀ OI 中的 Vim</a>
  </div>


  <div class='underline-trans'>
  <a href="/2017/hello-world/">Hello World ▶</a>
  </div>

</div>
<!-- 如果不是首页且没使用 `comments: false` 关闭评论，则尝试加载评论 -->

    <!-- 配置中启用多说时，导入相应代码 -->
    <!-- 以上皆关闭且 Hexo 配置中设置了 disqus_shortname 时，导入相应代码 -->
    
        <!-- 文件分离和变量的使用，使代码能较好的兼容 Hexo 主配置 -->
        <section id="comments">
  <div id="disqus_thread">
    <script type="text/javascript">
    var disqus_shortname = 'rapiz'; // required: replace example with your forum shortname
    function loadDisqus() {
      // Disqus 安装代码
      var d = document, s = d.createElement('script');
      s.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      window.disqus_config = function () {
        this.page.url = 'https://rapiz.me/2017/work-on-linux/';
        this.page.identifier = '/2017/work-on-linux/';
      };
      // 如果你和我一样在用 DisqusJS，loadDisqus() 里就应该是 DisqusJS 的初始化代码 new DisqusJS({...})
    }

    // 通过检查 window 对象确认是否在浏览器中运行
    var runningOnBrowser = typeof window !== "undefined";
    // 通过检查 scroll 事件 API 和 User-Agent 来匹配爬虫
    var isBot = runningOnBrowser && !("onscroll" in window) || typeof navigator !== "undefined" && /(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent);
    // 检查当前浏览器是否支持 IntersectionObserver API
    var supportsIntersectionObserver = runningOnBrowser && "IntersectionObserver" in window;

    // 一个小 hack，将耗时任务包裹在 setTimeout(() => { }, 1) 中，可以推迟到 Event Loop 的任务队列中、等待主调用栈清空后才执行，在绝大部分浏览器中都有效
    // 其实这个 hack 本来是用于优化骨架屏显示的。一些浏览器总是等 JavaScript 执行完了才开始页面渲染，导致骨架屏起不到降低 FCP 的优化效果，所以通过 hack 将耗时函数放到骨架屏渲染完成后再进行。
    setTimeout(function () {
      if (!isBot && supportsIntersectionObserver) {
        // 当前环境不是爬虫、并且浏览器兼容 IntersectionObserver API
        var disqus_observer = new IntersectionObserver(function(entries) {
          // 当前视窗中已出现 Disqus 评论框所在位置
          if (entries[0].isIntersecting) {
            // 加载 Disqus
            loadDisqus();
            // 停止当前的 Observer
            disqus_observer.disconnect();
          }
        }, { threshold: [0] });
        // 设置让 Observer 观察 #disqus_thread 元素
        disqus_observer.observe(document.getElementById('disqus_thread'));
      } else {
        // 当前环境是爬虫、或当前浏览器其不兼容 IntersectionObserver API
        // 直接加载 Disqus
        loadDisqus();
      }
    }, 1);
  </script>
  <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener external nofollow noreferrer" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

    


	</main>
  <div id = "typography-footer">
    <p>Powered by <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/">Hexo</a> | <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Rapiz1/typography">Typography</a> designed by <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Rapiz1">Rapiz</a></p>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->

<!-- End Google Analytics -->

</div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>

<script src=https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
